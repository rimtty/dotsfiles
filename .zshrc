# æ–‡å­—ã‚³ãƒ¼ãƒ‰ã®è¨­å®š
export LANG=ja_JP.UTF-8

# macports UNINSTALLED
# export PATH=/opt/local/bin:/opt/local/sbin/:$PATH
# export MANPATH=/opt/local/man:$MANPATH

# ãƒ‘ã‚¹ã®è¨­å®š
PATH=${HOME}/.cabal/bin:/usr/local/bin:$PATH
export PATH=/Users/rimd2r/go/go_appengine:$PATH
export MANPATH=/usr/local/man:/usr/share/man

# é–¢æ•°
find-grep () { find . -type f -print | xargs grep -n --binary-files=without-match $@ }

# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®è¨­å®š
alias ls='ls -F -G'
alias ll='ls -a -l'
alias uim='/Library/Frameworks/UIM.framework/Versions/Current/bin/uim-xim &'
alias vi='vim'
alias logbook='java -XstartOnFirstThread -jar ~/Dropbox/logbook/logbook.jar'
##alias gd='dirs -v; echo -n "select number: "; read newdir; cd +"$newdir"'

# ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è¨­å®š
local GREEN=$'%{[32m%}'
local YELLOW=$'%{[33m%}'
local BLUE=$'%{[34m%}'
local DEFAULT=$'%{[00m%}'

#PROMPT=''$GREEN'%n@%m '$YELLOW'%c#'$DEFAULT' '$'\n%(!.#.$) ' 
PROMPT=''$GREEN'%n@%m '$YELLOW'%/%#'$DEFAULT' '$'\n%(!.#.$) ' 

# ãƒ’ã‚¹ãƒˆãƒªã®è¨­å®š
HISTFILE=~/.histfile
HISTSIZE=10000
SAVEHIST=10000
# å±¥æ­´ãƒ•ã‚¡ã‚¤ãƒ«ã«æ™‚åˆ»ã‚’è¨˜éŒ²
setopt extended_history
# ã‚·ã‚§ãƒ«ã®ãƒ—ãƒ­ã‚»ã‚¹ã”ã¨ã«å±¥æ­´ã‚’å…±æœ‰
setopt share_history


# è£œå®Œã™ã‚‹ã‹ã®è³ªå•ã¯ç”»é¢ã‚’è¶…ãˆã‚‹æ™‚ã«ã®ã¿ã«è¡Œã†ï½¡
LISTMAX=0
# è£œå®Œã®åˆ©ç”¨è¨­å®š
autoload -U compinit; compinit
# sudo ã§ã‚‚è£œå®Œã®å¯¾è±¡
zstyle ':completion:*:sudo:*' command-path /usr/local/sbin /usr/local/bin /usr/sbin /usr/bin /sbin /bin

## autoç³»
# cdã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§è‡ªå‹•çš„ã«pushd
setopt auto_pushd
# è¤‡æ•°ã® zsh ã‚’åŒæ™‚ã«ä½¿ã†æ™‚ãªã© history ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¸Šæ›¸ãã›ãšè¿½åŠ 
setopt append_history
# è£œå®Œå€™è£œãŒè¤‡æ•°ã‚ã‚‹æ™‚ã«ã€ä¸€è¦§è¡¨ç¤º
setopt auto_list
# è£œå®Œã‚­ãƒ¼ï¼ˆTab, Ctrl+I) ã‚’é€£æ‰“ã™ã‚‹ã ã‘ã§é †ã«è£œå®Œå€™è£œã‚’è‡ªå‹•ã§è£œå®Œ
setopt auto_menu
# ã‚«ãƒƒã‚³ã®å¯¾å¿œãªã©ã‚’è‡ªå‹•çš„ã«è£œå®Œ
setopt auto_param_keys
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã®è£œå®Œã§æœ«å°¾ã® / ã‚’è‡ªå‹•çš„ã«ä»˜åŠ ã—ã€æ¬¡ã®è£œå®Œã«å‚™ãˆã‚‹
setopt auto_param_slash


# ãƒ“ãƒ¼ãƒ—éŸ³ã‚’é³´ã‚‰ã•ãªã„ã‚ˆã†ã«ã™ã‚‹
setopt NO_beep

##################################
## history
##################################
# ç›´å‰ã¨åŒã˜ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã¯ãƒ’ã‚¹ãƒˆãƒªã«è¿½åŠ ã—ãªã„
setopt hist_ignore_dups
# é‡è¤‡ã—ãŸãƒ’ã‚¹ãƒˆãƒªã¯è¿½åŠ ã—ãªã„
setopt hist_ignore_all_dups
# ãƒ’ã‚¹ãƒˆãƒªã‚’å‘¼ã³å‡ºã—ã¦ã‹ã‚‰å®Ÿè¡Œã™ã‚‹é–“ã«ä¸€æ—¦ç·¨é›†ã§ãã‚‹çŠ¶æ…‹ã«ãªã‚‹
setopt hist_verify

# auto_list ã®è£œå®Œå€™è£œä¸€è¦§ã§ã€ls -F ã®ã‚ˆã†ã«ãƒ•ã‚¡ã‚¤ãƒ«ã®ç¨®åˆ¥ã‚’ãƒãƒ¼ã‚¯è¡¨ç¤ºã—ãªã„
setopt NO_list_types
# ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã®å¼•æ•°ã§ --prefix=/usr ãªã©ã® = ä»¥é™ã§ã‚‚è£œå®Œã§ãã‚‹
setopt magic_equal_subst
# ãƒ•ã‚¡ã‚¤ãƒ«åã®å±•é–‹ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ãƒãƒƒãƒã—ãŸå ´åˆæœ«å°¾ã« / ã‚’ä»˜åŠ ã™ã‚‹
setopt mark_dirs
# 8 ãƒ“ãƒƒãƒˆç›®ã‚’é€šã™ã‚ˆã†ã«ãªã‚Šã€æ—¥æœ¬èªã®ãƒ•ã‚¡ã‚¤ãƒ«åã‚’è¡¨ç¤ºå¯èƒ½
setopt print_eight_bit
# Ctrl+wã§ï½¤ç›´å‰ã®/ã¾ã§ã‚’å‰Šé™¤ã™ã‚‹ï½¡
WORDCHARS='*?_-.[]~=&;!#$%^(){}<>'
# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ°´è‰²ã«ã™ã‚‹ï½¡
export LS_COLORS='di=01;36'
# ãƒ•ã‚¡ã‚¤ãƒ«ãƒªã‚¹ãƒˆè£œå®Œã§ã‚‚lsã¨åŒæ§˜ã«è‰²ã‚’ã¤ã‘ã‚‹ï½¡
zstyle ':completion:*' list-colors ${(s.:.)LS_COLORS}

##################################
# ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰
##################################
# vi
#""bindkey -v

autoload -Uz history-search-end
zle -N history-beginning-search-backward-end history-search-end
zle -N history-beginning-search-forward-end history-search-end
bindkey "^P" history-beginning-search-backward-end
bindkey "^N" history-beginning-search-forward-end



# ^ã§ï½¤cd ..
function cdup() {
	    echo
		    cd ..
			    zle reset-prompt
}
zle -N cdup
bindkey '\^' cdup

# ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã ã‘ã§ï½¤ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç§»å‹•ã‚’ã™ã‚‹ï½¡
setopt auto_cd

# C-s, C-qã‚’ç„¡åŠ¹ã«ã™ã‚‹ã€‚
setopt NO_flow_control

# mineè¨­å®š
[ -f ~/.zshrc.mine ] && source ~/.zshrc.mine


# Screenã®è¨­å®š
if [ $TERM = "screen" ]; then
    precmd() {
##        screen -X title $(basename `echo $PWD | sed -e "s/ /_/g"`)
        screen -X title $PWD
    }
    preexec() {
        screen -X title `echo $1 | cut -d " " -f 1`
    }
fi

# The next line updates PATH for the Google Cloud SDK.
source '/Users/rimd2r/google-cloud-sdk/path.zsh.inc'

# The next line enables shell command completion for gcloud.
source '/Users/rimd2r/google-cloud-sdk/completion.zsh.inc'
